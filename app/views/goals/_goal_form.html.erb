<%= form_with model: @goal, local: true do |f| %>
  <div class="mb-3">
    <%= f.label :title, {class: "form-label"} %>
    <%= f.text_field :title, {class: "form-control"}%>
    <% @goal.errors.full_messages_for(:title).each do |message| %>
      <div><%= message %></div>
    <% end %>
  </div>
  <div class="mb-3">
    <%= f.label :description, {class: "form-label"} %>
    <%= f.text_area :description, {class: "form-control", style: "height: 200px"} %>
    <% @goal.errors.full_messages_for(:description).each do |message| %>
      <div><%= message %></div>
    <% end %>
  </div>
  <div class="row">
    <div class="col-md-6">
      <%= f.label :start_date, {class: "form-label"} %>
    </div>
    <div class="col-md-6">
      <%= f.label :due_date, {class: "form-label"} %>
    </div>
    <div class="col-md-6">
      <%= f.date_field :start_date %>
    </div>
    <div class="col-md-6">
      <%= f.date_field :due_date %>
    </div>
  </div>

  <div class="mt-3">
    <h3>小目標新規作成</h3>
  </div>
  <%= f.fields_for :steps do |step| %>
    <%= render 'step_fields', f: step %>
  <% end %>
  <div><%= link_to_add_association "小目標追加", f, :steps, class: 'btn btn-success mt-3' %></div>
  <div class="mt-3"><%= f.submit nil, class: "btn btn-primary mb-3" %></div>
<% end %>